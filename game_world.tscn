[gd_scene load_steps=17 format=3 uid="uid://douesax7qkljh"]

[ext_resource type="PackedScene" uid="uid://bosvhjnjwtr7t" path="res://vehicles/vehicle.tscn" id="1_lmy6a"]
[ext_resource type="Script" path="res://game_world.gd" id="1_wxayb"]
[ext_resource type="PackedScene" uid="uid://db8m8ii5ewx0l" path="res://maps/test_map.tscn" id="2_050wm"]
[ext_resource type="AudioStream" uid="uid://cv12ngfg2vqtx" path="res://assets/music/Cheerful Annoyance.ogg" id="2_wuftt"]
[ext_resource type="AudioStream" uid="uid://cuy6cbssa4ss4" path="res://assets/music/Farm Frolics.ogg" id="3_lhff5"]
[ext_resource type="Script" path="res://smoothed_follower.gd" id="3_p7flm"]
[ext_resource type="AudioStream" uid="uid://cgejiskvw3lyn" path="res://assets/music/Flowing Rocks.ogg" id="4_d6s50"]
[ext_resource type="AudioStream" uid="uid://bapcvn8cugbkv" path="res://assets/sounds/coin2.ogg" id="5_26d21"]
[ext_resource type="PackedScene" uid="uid://dy71lmaltr0c2" path="res://menus/overlay_menu.tscn" id="5_pb0xt"]
[ext_resource type="AudioStream" uid="uid://bqk3t22grum2k" path="res://assets/music/Italian Mom.ogg" id="5_pvijm"]
[ext_resource type="AudioStream" uid="uid://dsgew3iijckw1" path="res://assets/music/Mishief Stroll.ogg" id="6_d5khg"]
[ext_resource type="AudioStream" uid="uid://cgjbekrvogi5b" path="res://assets/music/Polka Train.ogg" id="7_7inye"]
[ext_resource type="AudioStream" uid="uid://dqen0rqp3mdgt" path="res://assets/music/Swinging Pants.ogg" id="8_ypdcj"]

[sub_resource type="ProceduralSkyMaterial" id="ProceduralSkyMaterial_kjrqk"]
sky_horizon_color = Color(0.64625, 0.65575, 0.67075, 1)
ground_horizon_color = Color(0.64625, 0.65575, 0.67075, 1)

[sub_resource type="Sky" id="Sky_80r3o"]
sky_material = SubResource("ProceduralSkyMaterial_kjrqk")

[sub_resource type="Environment" id="Environment_xaiqv"]
background_mode = 2
sky = SubResource("Sky_80r3o")
tonemap_mode = 2

[node name="game_world" type="Node3D"]
script = ExtResource("1_wxayb")
background_tracks = Array[AudioStream]([ExtResource("2_wuftt"), ExtResource("3_lhff5"), ExtResource("4_d6s50"), ExtResource("5_pvijm"), ExtResource("6_d5khg"), ExtResource("7_7inye"), ExtResource("8_ypdcj")])

[node name="vehicle" parent="." instance=ExtResource("1_lmy6a")]
transform = Transform3D(1, 0, 0, 0, 1, 0, 0, 0, 1, -30.2455, 2.80538, 18.6208)
mass = 2000.0
max_engine_force = 3000.0
max_brake_force = 100.0

[node name="vehicle_follower" type="Node3D" parent="." node_paths=PackedStringArray("target")]
transform = Transform3D(-1, 0, -8.74228e-08, -6.18172e-08, 0.707107, 0.707107, 6.18172e-08, 0.707107, -0.707107, -30.2455, 7.3054, 11.6208)
script = ExtResource("3_p7flm")
target = NodePath("../vehicle")

[node name="camera" type="Camera3D" parent="vehicle_follower"]
current = true

[node name="test_map" parent="." instance=ExtResource("2_050wm")]

[node name="ui" type="CanvasLayer" parent="."]

[node name="overlay_menu" parent="ui" instance=ExtResource("5_pb0xt")]
visible = false

[node name="play_button" parent="ui/overlay_menu/button_list" index="0"]
visible = false

[node name="background" type="Panel" parent="ui/overlay_menu"]
show_behind_parent = true
layout_mode = 1
anchors_preset = 15
anchor_right = 1.0
anchor_bottom = 1.0
grow_horizontal = 2
grow_vertical = 2
mouse_filter = 2

[node name="score_panel" type="PanelContainer" parent="ui"]
anchors_preset = 5
anchor_left = 0.5
anchor_right = 0.5
offset_left = -40.0
offset_top = 32.0
offset_right = 48.0
offset_bottom = 104.0
grow_horizontal = 2

[node name="margin" type="MarginContainer" parent="ui/score_panel"]
layout_mode = 2
theme_override_constants/margin_left = 8
theme_override_constants/margin_top = 8
theme_override_constants/margin_right = 8
theme_override_constants/margin_bottom = 8

[node name="vbox" type="VBoxContainer" parent="ui/score_panel/margin"]
layout_mode = 2

[node name="label" type="Label" parent="ui/score_panel/margin/vbox"]
layout_mode = 2
text = "Revenue"
uppercase = true

[node name="revenue_label" type="Label" parent="ui/score_panel/margin/vbox"]
unique_name_in_owner = true
layout_mode = 2
text = "$0"
horizontal_alignment = 1

[node name="score_sound" type="AudioStreamPlayer" parent="."]
unique_name_in_owner = true
stream = ExtResource("5_26d21")
pitch_scale = 0.85

[node name="background_music" type="AudioStreamPlayer" parent="."]
unique_name_in_owner = true

[node name="environment" type="WorldEnvironment" parent="."]
environment = SubResource("Environment_xaiqv")

[node name="sun" type="DirectionalLight3D" parent="."]
transform = Transform3D(-0.866024, -0.433016, 0.250001, 0, 0.499998, 0.866026, -0.500003, 0.749999, -0.43301, 46.7709, 42, 0)
shadow_enabled = true

[editable path="ui/overlay_menu"]
